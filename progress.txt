# Build Progress Log

## Task 1 - 2026-02-21
### Completed: Migrate to Dynamic v2/v3 Base URL

**What was implemented:**
- Changed `defaultBaseURL` from `https://api.clickup.com/api/v2` to `https://api.clickup.com/api` in both `api/client.go` and `clickup/client.go`
- Updated ALL existing service method paths to include `/v2/` prefix (e.g., `/task/{id}` → `/v2/task/{id}`)
- Added `workspaceID` field to `clickup.Client` struct
- Added `ClientOption` functional options pattern for configuring the client
- Added `WithWorkspaceID` option for future v3 endpoint support
- Added `v3Path()` helper method to build v3 API paths with workspace ID prefix
- Added `Patch()` method to `api.Client` for v3 PATCH endpoints
- Added `PostMultipart()` method to `api.Client` for file upload endpoints
- Added comprehensive tests for all new functionality:
  - `TestV3Path_BuildsCorrectPath` - verifies v3 path construction
  - `TestV3Path_MissingWorkspaceID` - verifies error handling for missing workspace ID
  - `TestPatch_SendsJSONBody` - verifies PATCH method sends correct HTTP method and body
  - `TestPatch_PropagatesAPIError` - verifies PATCH error handling
  - `TestPostMultipart_SendsFile` - verifies multipart file upload
  - `TestPostMultipart_SetsAuthHeader` - verifies auth header is set
  - `TestPostMultipart_PropagatesAPIError` - verifies multipart error handling
  - `TestBaseURLConstruction` - verifies new base URL structure

**Files changed:**
- `internal/api/client.go` — modified (base URL, Patch, PostMultipart methods)
- `internal/api/client_test.go` — modified (added tests for Patch, PostMultipart, base URL)
- `internal/clickup/client.go` — modified (base URL, workspaceID, v3Path helper, all paths with /v2/)
- `internal/clickup/client_test.go` — modified (v3Path tests, updated path expectations)
- `internal/clickup/types.go` — minor formatting fixes from linter

**Branch:** `phase/1-foundation`
**Commit:** `086de16`

**Learnings for future iterations:**
- The linter (wsl_v5) requires blank lines before return statements after if/else blocks
- Variable shadowing (`err`) triggers govet shadow check - use different variable names
- The `make ci` target runs `fmt-check` which checks for uncommitted changes - must commit before passing
- Functional options pattern is the idiomatic way to configure clients in Go

---

## Task 2 - 2026-02-21
### Completed: Add Workspace ID Configuration

**What was implemented:**
- Added `--workspace` global flag to CLI root command with help text explaining it's required for v3 API
- Added `CLICKUP_WORKSPACE_ID` environment variable support via Kong vars binding
- Added workspace ID to config file (`config.json`) with `GetWorkspaceID()` and `SetWorkspaceID()` functions
- Updated `getClickUpClient()` to resolve workspace ID from: context (flag) > env var > config
- Added `withWorkspaceID()` and `getWorkspaceIDFromContext()` helpers to pass workspace ID via context
- Added `auth set-workspace` command to configure workspace ID
- Updated `auth status` command to display workspace ID configuration status
- Workspace ID is passed to the ClickUp client via `WithWorkspaceID()` option (implemented in Task 1)

**Files changed:**
- `internal/cmd/root.go` — modified (added Workspace flag, workspace context helpers, kong vars)
- `internal/cmd/helpers.go` — modified (getClickUpClient now takes context, resolves workspace ID)
- `internal/cmd/auth.go` — modified (added AuthSetWorkspaceCmd, updated AuthStatusCmd)
- `internal/config/config.go` — modified (added WorkspaceID to configData, GetWorkspaceID, SetWorkspaceID)
- All command files (tasks.go, comments.go, members.go, lists.go, time.go, spaces.go) — updated to pass context to getClickUpClient

**Branch:** `phase/1-foundation`

**Learnings for future iterations:**
- When adding global flags to Kong CLI, do NOT embed RootFlags in subcommands - it creates duplicate flags
- Use context to pass global flag values down to helper functions instead of adding fields to every command struct
- The Kong vars mechanism allows environment variable defaults for flags via `${varname}` syntax in default tag
- Workspace ID is optional for v2 endpoints - only v3 endpoints require it (error handled in v3Path helper from Task 1)

---

## Task 3 - 2026-02-21
### Completed: Add Contract Tests for v3 Infrastructure

**What was implemented:**
- Contract tests for v3 infrastructure were already implemented as part of Tasks 1 and 2
- Tests verify:
  - `TestBaseURLConstruction` - base URL construction for v2 paths
  - `TestV3Path_BuildsCorrectPath` - v3Path helper builds correct workspace-prefixed paths
  - `TestV3Path_MissingWorkspaceID` - error handling for missing workspace ID
  - `TestPatch_SendsJSONBody` - PATCH method sends correct HTTP method and JSON body
  - `TestPatch_PropagatesAPIError` - PATCH error handling matches existing patterns
  - `TestPostMultipart_SendsFile` - multipart file upload with correct content type
  - `TestPostMultipart_SetsAuthHeader` - auth header set on multipart requests
  - `TestPostMultipart_PropagatesAPIError` - multipart error handling

**Files changed:**
- No new files - tests were already in place from Tasks 1 and 2

**Branch:** `phase/1-foundation`
**PR URL:** (pending - Phase 1 complete, ready for PR creation)

**Learnings for future iterations:**
- When implementing infrastructure changes, include tests as part of the same task for atomic verification
- The spec recommended separate test task, but implementing tests alongside infrastructure is more efficient

---

## Phase 1 Complete

All 3 foundation architecture tasks are complete:
1. ✅ Migrate to Dynamic v2/v3 Base URL
2. ✅ Add Workspace ID Configuration
3. ✅ Add Contract Tests for v3 Infrastructure

Next: Open PR from `phase/1-foundation` to `fix/plain-output`, then start Phase 2 (Workspaces & Authorization)

---

## Task 6 - 2026-02-22
### Completed: Extend Spaces Service (Get, Create, Update, Delete)

**What was implemented:**
- Added `SpaceDetail`, `SpaceStatus`, `SpaceFeatures`, `FeatureToggle` types to types.go
- Added `CreateSpaceRequest` and `UpdateSpaceRequest` types for API requests
- Extended `SpacesService` with:
  - `Get(ctx, spaceID)` - get space details with statuses and features
  - `Create(ctx, teamID, req)` - create a new space
  - `Update(ctx, spaceID, req)` - update space name, color, private, multiple assignees
  - `Delete(ctx, spaceID)` - delete a space
- Added CLI commands:
  - `spaces get <space_id>` - displays ID, name, private, statuses, features
  - `spaces create <team_id> <name> [--private] [--color <hex>] [--multiple-assignees]`
  - `spaces update <space_id> [--name "..."] [--color <hex>] [--private] [--multiple-assignees]`
  - `spaces delete <space_id>`
- Added comprehensive tests:
  - `TestSpacesGet_ReturnsSpaceWithStatusesAndFeatures` - verifies get with full details
  - `TestSpacesGet_RequiresSpaceID` - validates space ID requirement
  - `TestSpacesCreate_ReturnsCreatedSpace` - verifies create with name
  - `TestSpacesCreate_RequiresTeamID` - validates team ID requirement
  - `TestSpacesCreate_RequiresName` - validates name requirement
  - `TestSpacesUpdate_ReturnsUpdatedSpace` - verifies update with name and private
  - `TestSpacesUpdate_RequiresSpaceID` - validates space ID requirement
  - `TestSpacesDelete_SendsDeleteRequest` - verifies delete request
  - `TestSpacesDelete_RequiresSpaceID` - validates space ID requirement

**Files changed:**
- `internal/clickup/client.go` — modified (extended SpacesService with Get, Create, Update, Delete)
- `internal/clickup/types.go` — modified (added SpaceDetail, SpaceStatus, SpaceFeatures, FeatureToggle, CreateSpaceRequest, UpdateSpaceRequest)
- `internal/cmd/spaces.go` — modified (added spaces get, create, update, delete commands)
- `internal/clickup/client_test.go` — modified (added tests for all new methods)

**Branch:** `phase/3-core-crud`
**Commit:** `ead0891`
**PR URL:** https://github.com/Robben-Media/clickup-cli/pull/11

**Learnings for future iterations:**
- The `wsl_v5` linter requires blank lines before variable declarations after other statements
- Validation tests that don't make HTTP requests should create client directly with `&Client{Client: api.NewClient("test-key")}` instead of `newTestClient(nil)` to avoid nil pointer dereferences
- All three output formats (JSON, plain TSV, human-readable) must be supported for each command

**Next:** Task 7 - Create Folders Service (Full CRUD) - Phase 3 Core CRUD

---

## Task 7 - 2026-02-22
### Completed: Create Folders Service (Full CRUD)

**What was implemented:**
- Created new `FoldersService` as a separate service from `ListsService.ListFolders`
- Added `FolderDetail`, `CreateFolderRequest`, `UpdateFolderRequest`, `CreateFolderFromTemplateRequest` types
- Extended `FoldersService` with:
  - `Get(ctx, folderID)` - get folder by ID with lists
  - `Create(ctx, spaceID, req)` - create a new folder in a space
  - `Update(ctx, folderID, req)` - update folder name
  - `Delete(ctx, folderID)` - delete a folder
  - `FromTemplate(ctx, spaceID, templateID, req)` - create folder from template
- Implemented API endpoints:
  - `GET /v2/folder/{folder_id}`
  - `POST /v2/space/{space_id}/folder`
  - `PUT /v2/folder/{folder_id}`
  - `DELETE /v2/folder/{folder_id}`
  - `POST /v2/space/{space_id}/folder_template/{template_id}`
- Added CLI commands:
  - `folders get <folder_id>` - displays ID, name, task count, lists
  - `folders create <space_id> <name>`
  - `folders update <folder_id> [--name "..."]`
  - `folders delete <folder_id>`
  - `folders from-template <space_id> <template_id> [--name "..."]`
- Added comprehensive tests:
  - `TestFoldersGet_ReturnsFolderWithLists` - verifies get with lists
  - `TestFoldersGet_RequiresFolderID` - validates folder ID requirement
  - `TestFoldersCreate_ReturnsCreatedFolder` - verifies create with name
  - `TestFoldersCreate_RequiresSpaceID` - validates space ID requirement
  - `TestFoldersCreate_RequiresName` - validates name requirement
  - `TestFoldersUpdate_ReturnsUpdatedFolder` - verifies update
  - `TestFoldersUpdate_RequiresFolderID` - validates folder ID requirement
  - `TestFoldersDelete_SendsDeleteRequest` - verifies delete request
  - `TestFoldersDelete_RequiresFolderID` - validates folder ID requirement
  - `TestFoldersFromTemplate_ReturnsCreatedFolder` - verifies template creation
  - `TestFoldersFromTemplate_RequiresSpaceID` - validates space ID requirement
  - `TestFoldersFromTemplate_RequiresTemplateID` - validates template ID requirement

**Files changed:**
- `internal/clickup/client.go` — modified (added FoldersService with Get, Create, Update, Delete, FromTemplate)
- `internal/clickup/types.go` — modified (added FolderDetail, CreateFolderRequest, UpdateFolderRequest, CreateFolderFromTemplateRequest)
- `internal/clickup/client_test.go` — modified (added tests for all FoldersService methods)
- `internal/cmd/folders.go` — created (CLI commands for folders get, create, update, delete, from-template)
- `internal/cmd/root.go` — modified (added FoldersCmd to CLI struct)

**Branch:** `phase/3-core-crud`
**Commit:** `e28efad`
**PR URL:** https://github.com/Robben-Media/clickup-cli/pull/11

**Learnings for future iterations:**
- The FoldersService is separate from ListsService.ListFolders which lists folders in a space
- Folder's task_count is returned as string from the API, not a number
- Delete returns empty body with 200 status code

**Next:** Task 8 - Extend Lists Service (Get, Create, Update, Delete) - Phase 3 Core CRUD

---

## Task 8 - 2026-02-22
### Completed: Extend Lists Service (Get, Create, Update, Delete)

**What was implemented:**
- Extended `ListsService` with:
  - `Get(ctx, listID)` - get list details by ID
  - `CreateInFolder(ctx, folderID, req)` - create list in a folder
  - `CreateFolderless(ctx, spaceID, req)` - create folderless list in a space
  - `Update(ctx, listID, req)` - update list
  - `Delete(ctx, listID)` - delete list
  - `AddTask(ctx, listID, taskID)` - add task to list (enables "Tasks in Multiple Lists")
  - `RemoveTask(ctx, listID, taskID)` - remove task from list
  - `FromTemplateInFolder(ctx, folderID, templateID, req)` - create list from template in folder
  - `FromTemplateInSpace(ctx, spaceID, templateID, req)` - create folderless list from template in space
- Added types:
  - `ListDetail` - full list with all properties
  - `ListStatus` - status info for list
  - `CreateListRequest` - request for creating lists
  - `UpdateListRequest` - request for updating lists
  - `CreateListFromTemplateRequest` - request for template creation
- Updated `SpaceRef` to include Name field
- Added CLI commands:
  - `lists get <list_id>` - displays ID, name, task count, folder, space
  - `lists create --folder|--space <name>` - create list with optional flags
  - `lists update <list_id> [--name] [--content] [--due-date] [--priority] [--assignee] [--unset-assignee] [--unset-due-date]`
  - `lists delete <list_id>`
  - `lists add-task <list_id> <task_id>`
  - `lists remove-task <list_id> <task_id>`
  - `lists from-template --folder|--space <template_id> [--name]`
- Added comprehensive tests:
  - `TestListsGet_ReturnsListWithDetails` - verifies get with full details
  - `TestListsGet_RequiresListID` - validates list ID requirement
  - `TestListsCreateInFolder_ReturnsCreatedList` - verifies create in folder
  - `TestListsCreateFolderless_ReturnsCreatedList` - verifies folderless create
  - `TestListsCreateInFolder_RequiresFolderID` - validates folder ID requirement
  - `TestListsCreateFolderless_RequiresSpaceID` - validates space ID requirement
  - `TestListsCreate_RequiresName` - validates name requirement
  - `TestListsUpdate_ReturnsUpdatedList` - verifies update
  - `TestListsUpdate_RequiresListID` - validates list ID requirement
  - `TestListsDelete_SendsDeleteRequest` - verifies delete request
  - `TestListsDelete_RequiresListID` - validates list ID requirement
  - `TestListsAddTask_SendsPostRequest` - verifies add task request
  - `TestListsAddTask_RequiresListID` - validates list ID requirement
  - `TestListsAddTask_RequiresTaskID` - validates task ID requirement
  - `TestListsRemoveTask_SendsDeleteRequest` - verifies remove task request
  - `TestListsRemoveTask_RequiresListID` - validates list ID requirement
  - `TestListsRemoveTask_RequiresTaskID` - validates task ID requirement
  - `TestListsFromTemplateInFolder_ReturnsCreatedList` - verifies template creation in folder
  - `TestListsFromTemplateInSpace_ReturnsCreatedList` - verifies template creation in space
  - `TestListsFromTemplateInFolder_RequiresFolderID` - validates folder ID requirement
  - `TestListsFromTemplateInFolder_RequiresTemplateID` - validates template ID requirement
  - `TestListsFromTemplateInSpace_RequiresSpaceID` - validates space ID requirement
  - `TestListsFromTemplateInSpace_RequiresTemplateID` - validates template ID requirement

**Files changed:**
- `internal/clickup/client.go` — modified (extended ListsService with Get, CreateInFolder, CreateFolderless, Update, Delete, AddTask, RemoveTask, FromTemplateInFolder, FromTemplateInSpace)
- `internal/clickup/types.go` — modified (added ListDetail, ListStatus, CreateListRequest, UpdateListRequest, CreateListFromTemplateRequest; updated SpaceRef)
- `internal/clickup/client_test.go` — modified (added tests for all ListsService methods)
- `internal/cmd/lists.go` — modified (added lists get, create, update, delete, add-task, remove-task, from-template commands)

**Branch:** `phase/3-core-crud`
**Commit:** `a5c1038`
**PR URL:** https://github.com/Robben-Media/clickup-cli/pull/11

**Learnings for future iterations:**
- List's task_count is returned as int (unlike folder's string)
- AddTask and RemoveTask endpoints return empty body with 200 status
- Create command requires exactly one of --folder or --space (mutually exclusive validation)
- SpaceRef needed to include Name for display in list get command

**Next:** Task 9 - Extend Tasks Service (Search, Time-in-Status, Merge, Move) - Phase 3 Core CRUD

---

## Task 9 - 2026-02-22
### Completed: Extend Tasks Service (Search, Time-in-Status, Merge, Move)

**What was implemented:**
- Extended `TasksService` with:
  - `Search(ctx, teamID, params)` - workspace-wide task search with filters
  - `TimeInStatus(ctx, taskID)` - get time spent in each status for a single task
  - `BulkTimeInStatus(ctx, taskIDs)` - get time in status for multiple tasks at once
  - `Merge(ctx, targetTaskID, sourceTaskIDs)` - merge source tasks into target task
  - `Move(ctx, taskID, listID)` - move task to a new list (v3 API)
  - `FromTemplate(ctx, listID, templateID, req)` - create task from a template
- Added types:
  - `FilteredTeamTasksParams` - query parameters for task search with all filters
  - `FilteredTeamTasksResponse` - response for search
  - `TimeInStatusResponse` - response for single task time-in-status
  - `StatusTime` - individual status time with duration
  - `TimeValue` - time value with by_minute and since timestamp
  - `BulkTimeInStatusResponse` - map of task IDs to their time-in-status data
  - `MergeTasksRequest` - request body for merging tasks
  - `CreateTaskFromTemplateRequest` - request for creating task from template
- Added CLI commands:
  - `tasks search --team <id> [--status] [--assignee] [--tag] [--include-closed] [...]` - search tasks
  - `tasks time-in-status <task_id>` - get time in status for a task
  - `tasks bulk-time-in-status <task_id>...` - get time in status for multiple tasks
  - `tasks merge <target_task_id> <source_task_id>...` - merge tasks
  - `tasks move <task_id> --list <list_id>` - move task to new list (v3)
  - `tasks from-template <list_id> <template_id> [--name]` - create task from template
- Added comprehensive tests:
  - `TestTasksSearch_ReturnsFilteredTasks` - verifies search with filters
  - `TestTasksSearch_RequiresTeamID` - validates team ID requirement
  - `TestTasksTimeInStatus_ReturnsStatusTime` - verifies time-in-status parsing
  - `TestTasksTimeInStatus_RequiresTaskID` - validates task ID requirement
  - `TestTasksBulkTimeInStatus_ReturnsMultipleTasks` - verifies bulk response
  - `TestTasksBulkTimeInStatus_RequiresTaskIDs` - validates task IDs requirement
  - `TestTasksMerge_ReturnsMergedTask` - verifies merge request/response
  - `TestTasksMerge_RequiresTargetTaskID` - validates target task ID requirement
  - `TestTasksMerge_RequiresSourceTaskIDs` - validates source task IDs requirement
  - `TestTasksMove_SendsV3Request` - verifies v3 path construction
  - `TestTasksMove_RequiresTaskID` - validates task ID requirement
  - `TestTasksMove_RequiresListID` - validates list ID requirement
  - `TestTasksMove_RequiresWorkspaceID` - validates workspace ID requirement (v3)
  - `TestTasksFromTemplate_ReturnsCreatedTask` - verifies template creation
  - `TestTasksFromTemplate_RequiresListID` - validates list ID requirement
  - `TestTasksFromTemplate_RequiresTemplateID` - validates template ID requirement

**Files changed:**
- `internal/clickup/client.go` — modified (extended TasksService with Search, TimeInStatus, BulkTimeInStatus, Merge, Move, FromTemplate)
- `internal/clickup/types.go` — modified (added FilteredTeamTasksParams, FilteredTeamTasksResponse, TimeInStatusResponse, StatusTime, TimeValue, BulkTimeInStatusResponse, MergeTasksRequest, CreateTaskFromTemplateRequest)
- `internal/clickup/client_test.go` — modified (added tests for all TasksService methods)
- `internal/cmd/tasks.go` — modified (added tasks search, time-in-status, bulk-time-in-status, merge, move, from-template commands)

**Branch:** `phase/3-core-crud`
**Commit:** `05d772a`
**PR URL:** https://github.com/Robben-Media/clickup-cli/pull/11

**Learnings for future iterations:**
- The `err113` linter requires static errors instead of `errors.New()` in function bodies - define error variables at package level
- Time-in-status API returns by_minute as int64 for duration calculation
- Move task is a v3 endpoint requiring workspace ID - uses `v3Path()` helper
- Search endpoint uses array query parameters like `statuses[]`, `assignees[]`, `tags[]`
- Bulk time-in-status takes task_ids as repeated query parameters

**Next:** Task 10 - Extend Comments Service (Full CRUD + Threaded + List/View) - Phase 3 Core CRUD

---

## Task 10 - 2026-02-22
### Completed: Extend Comments Service (Full CRUD + Threaded + List/View)

**What was implemented:**
- Extended `CommentsService` with:
  - `Delete(ctx, commentID)` - delete a comment
  - `Update(ctx, commentID, req)` - update comment text, assignee, resolved status
  - `Replies(ctx, commentID)` - get threaded replies to a comment
  - `Reply(ctx, commentID, text, assignee)` - create a threaded reply
  - `ListComments(ctx, listID)` - get list-level comments
  - `AddList(ctx, listID, req)` - create a list comment
  - `ViewComments(ctx, viewID, params)` - get view-level comments with pagination
  - `AddView(ctx, viewID, req)` - create a view comment
  - `Subtypes(ctx, typeID)` - get post subtypes (v3 API)
- Added types:
  - `UpdateCommentRequest` - request body for updating comments
  - `CreateListCommentRequest` - request body for creating list comments
  - `CreateViewCommentRequest` - request body for creating view comments
  - `ViewCommentsParams` - pagination parameters for view comments
  - `PostSubtypesResponse` - response for v3 subtypes endpoint
  - `PostSubtype` - individual post subtype with ID and name
- Implemented API endpoints:
  - `DELETE /v2/comment/{comment_id}`
  - `PUT /v2/comment/{comment_id}`
  - `GET /v2/comment/{comment_id}/reply`
  - `POST /v2/comment/{comment_id}/reply`
  - `GET /v2/list/{list_id}/comment`
  - `POST /v2/list/{list_id}/comment`
  - `GET /v2/view/{view_id}/comment` (with pagination)
  - `POST /v2/view/{view_id}/comment`
  - `GET /v3/workspaces/{wid}/comments/types/{type_id}/subtypes`
- Added CLI commands:
  - `comments delete <comment_id>`
  - `comments update <comment_id> [--text "..."] [--resolved] [--assignee <user_id>]`
  - `comments replies <comment_id>`
  - `comments reply <comment_id> --text "..." [--assignee <user_id>]`
  - `comments list-comments <list_id>`
  - `comments add-list <list_id> --text "..." [--assignee <user_id>]`
  - `comments view-comments <view_id> [--start <int>] [--start-id <string>]`
  - `comments add-view <view_id> --text "..." [--assignee <user_id>]`
  - `comments subtypes <type_id>`
- Added comprehensive tests:
  - `TestCommentsDelete_SendsDeleteRequest` - verifies delete request
  - `TestCommentsDelete_RequiresCommentID` - validates comment ID requirement
  - `TestCommentsUpdate_SendsPutRequest` - verifies update with text, assignee, resolved
  - `TestCommentsUpdate_RequiresCommentID` - validates comment ID requirement
  - `TestCommentsReplies_ReturnsThreadedComments` - verifies replies parsing
  - `TestCommentsReplies_RequiresCommentID` - validates comment ID requirement
  - `TestCommentsReply_CreatesThreadedReply` - verifies reply creation
  - `TestCommentsReply_RequiresCommentID` - validates comment ID requirement
  - `TestCommentsReply_RequiresText` - validates text requirement
  - `TestCommentsListComments_ReturnsListComments` - verifies list comments
  - `TestCommentsListComments_RequiresListID` - validates list ID requirement
  - `TestCommentsAddList_CreatesListComment` - verifies list comment creation
  - `TestCommentsAddList_RequiresListID` - validates list ID requirement
  - `TestCommentsAddList_RequiresText` - validates text requirement
  - `TestCommentsViewComments_ReturnsViewComments` - verifies view comments
  - `TestCommentsViewComments_WithPagination` - verifies pagination params
  - `TestCommentsViewComments_RequiresViewID` - validates view ID requirement
  - `TestCommentsAddView_CreatesViewComment` - verifies view comment creation
  - `TestCommentsAddView_RequiresViewID` - validates view ID requirement
  - `TestCommentsAddView_RequiresText` - validates text requirement
  - `TestCommentsSubtypes_ReturnsSubtypes` - verifies v3 subtypes response
  - `TestCommentsSubtypes_RequiresTypeID` - validates type ID requirement
  - `TestCommentsSubtypes_RequiresWorkspaceID` - validates workspace ID requirement (v3)
- Added helper functions:
  - `newTestClientWithWorkspace(server, workspaceID)` - test client with workspace
  - `ptrBool(b)` - helper for bool pointer in tests

**Files changed:**
- `internal/clickup/client.go` — modified (extended CommentsService with 9 new methods)
- `internal/clickup/types.go` — modified (added 6 new types)
- `internal/clickup/client_test.go` — modified (added 27 tests, 2 helper functions)
- `internal/cmd/comments.go` — modified (added 9 new commands)

**Branch:** `phase/3-core-crud`
**Commit:** `3611b4f`
**PR URL:** https://github.com/Robben-Media/clickup-cli/pull/11

**Learnings for future iterations:**
- The `api.Client.Delete()` method only takes `(ctx, path)` - no body parameter
- The `wsl_v5` linter requires blank lines before variable declarations after other statements
- The `dupword` linter catches duplicate words in error messages (e.g., "list list comments")
- v3 endpoints like Subtypes require workspace ID - test with `newTestClientWithWorkspace`

---

## Phase 3 Complete

All 5 core CRUD extension tasks are complete:
6. ✅ Extend Spaces Service (Get, Create, Update, Delete)
7. ✅ Create Folders Service (Full CRUD)
8. ✅ Extend Lists Service (Get, Create, Update, Delete)
9. ✅ Extend Tasks Service (Search, Time-in-Status, Merge, Move)
10. ✅ Extend Comments Service (Full CRUD + Threaded + List/View)

Next: Phase 4 - Time Tracking (Task 11)

---
